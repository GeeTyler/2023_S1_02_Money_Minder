@page "/settings"
@inject IJSRuntime JSRuntime
@layout MainLayout

<h3>Settings</h3>

<div class="setting-item">
    <label>Theme:</label>
    <select @bind="IsDarkMode" @onchange="ApplyTheme">
        <option value="false">Light Mode</option>
        <option value="true">Dark Mode</option>
    </select>
</div>

<div class="setting-item">
    <label>Font Size:</label>
    <input type="number" min="8" max="24" @bind="FontSize" @oninput="ApplyFontSize" />
</div>

@code {
    private bool IsDarkMode = false;
    private int FontSize = 16;

    private async Task ApplyTheme()
    {
        string stylesheetPath = IsDarkMode ? "dark-theme.css" : "light-theme.css";
        string jsCode = $"document.querySelector('#themeStylesheet').href = '{stylesheetPath}';";
        await JSRuntime.InvokeVoidAsync("eval", jsCode);
    }

    private async Task ApplyFontSize()
    {
        string jsCode = $"document.body.style.fontSize = '{FontSize}px';";
        await JSRuntime.InvokeVoidAsync("eval", jsCode);
    }
}
